<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/petite-vue"></script>
    <script src="https://unpkg.com/moment@2.29.1/moment.js"></script>
    <script type="module" src="scheduleFormatting.js"></script>
    <script type="module" src="vueScript.js"></script>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Niramit:300,regular,500,600"
      rel="stylesheet"
    />
    <title>LCHS Go</title>
  </head>
  <body class="body">
    <div class="background"></div>
    <div class="app-container" v-scope>
      <div class="header">
        <div class="navigation">
          <div @click="switchToNowPage()" class="nav-button" v-bind:class="{'selected': currentPage == 'now'}">
            NOW
          </div>
          <div @click="switchToCalendarPage()" class="nav-button" v-bind:class="{'selected': currentPage == 'calendar'}">
            CALENDAR
          </div>
          <div @click="switchToSettingsPage()" class="nav-button" v-bind:class="{'selected': currentPage == 'settings'}">
            SETTINGS
          </div>
        </div>
      </div>
      <div id="now-page" v-if="currentPage == 'now'">
        <div class="todays-schedule" v-effect="$el.textContent = todaysGreeting">
          Hello. Things are broken :)
        </div>
        <div class="schedule-container">
          <div class="period-information">
            <div class="progress-bar">
              <div class="circle"></div><!--                             percent max  min          min-->
              <div class="moving-time" v-bind:style="{ top: percentCompleted * (85 - 12) / 100 + 12 + '%' }" v-effect="$el.textContent = currentTime"></div> <!--12 - 85-->
              <div class="vertical-bar"></div>
              <div class="circle"></div>
            </div>
            <div class="period-information-content">
              <div class="start-time">{{ currentPeriod.getStart() }}</div>
              <div class="time-left">
                <div class="divider-bar" style="margin-bottom: 10px;"></div>
                <div class="time-left-group">
                  <div class="details-name">{{ currentPeriod.getName() }}</div>
                  <div class="time-left-text">
                    <span class="time-left-number" @mounted="startTimer()" v-effect="$el.textContent = timeLeft"></span> 
                    min. until period ends
                  </div>
                  <div class="time-left-percent">{{ percentCompletedText }}</div>
                </div>
                <div class="divider-bar" style="margin-top: 20px;"></div>
              </div>
              <div class="end-time">{{ currentPeriod.getEnd() }}</div>
            </div>
          </div>
          <div class="all-periods">
            <div class="periods-header">
              <div class="period-name">
                <div class="period-header-text">Period</div>
              </div>
              <div class="period-header-text">Start</div>
              <div class="period-header-text">End</div>
            </div>
            <div v-for="period in periodList" v-effect="currentPeriod">
              <div class="period" v-bind:class="{ current: period.isCurrent(), 'list-odd': getListCount() }" v-if="period.isCurrent() || !period.isPassing()">
                <div class="period-name">
                  <div class="period-details">{{ period.name }}</div>
                </div>
                <div class="period-details">{{ period.getStart() }}</div>
                <div class="period-details">{{ period.getEnd() }}</div>
              </div>
            </div>
            
            <!-- <div class="period-details-small">
              <div class="period-information-content">
                <div class="start-time">12 : 19 PM</div>
                <div class="time-left">
                  <div class="divider-bar"></div>
                  <div class="time-left-group">
                    <div class="details-name">Lunch</div>
                    <div class="time-left-text">
                      <span class="time-left-number">19</span> min. until
                      period ends
                    </div>
                    <div class="time-left-percent">(37% completed)</div>
                  </div>
                  <div class="divider-bar"></div>
                </div>
                <div class="end-time">12 : 54 PM</div>
              </div>
            </div> -->
        </div>
      </div>
    </div>
    <div id="calendar" v-if="currentPage == 'calendar'">
      <table>
        <tr> <!-- Week 1-->
          <td id = "a1" @click="scheduleClick(1)"> 1</td>
          <td id = "a2" @click="scheduleClick(2)"> 2</td>
          <td id = "a3" @click="scheduleClick(3)"> 3</td>
          <td id = "a4" @click="scheduleClick(4)"> </td>
          <td id = "a5" @click="scheduleClick(5)"> </td>
          <td id = "a6" @click="scheduleClick(6)"> </td>
          <td id = "a7" @click="scheduleClick(7)"> </td>

        </tr>
        <tr> <!-- Week 2-->
          <td id = "a8" @click="scheduleClick(8)"></td>
          <td id = "a9" @click="scheduleClick(9)"></td>
          <td id = "a10"@click="scheduleClick(10)"></td>
          <td id = "a11"@click="scheduleClick(11)"></td>
          <td id = "a12"@click="scheduleClick(12)"></td>
          <td id = "a13"@click="scheduleClick(13)"></td>
          <td id = "a14"@click="scheduleClick(14)"></td>
        </tr>
        <tr> <!-- Week 3-->
          <td id = "a15"@click="scheduleClick(15)"></td>
          <td id = "a16"@click="scheduleClick(16)"></td>
          <td id = "a17"@click="scheduleClick(17)"></td>
          <td id = "a18"@click="scheduleClick(18)"></td>
          <td id = "a19"@click="scheduleClick(19)"></td>
          <td id = "a20"@click="scheduleClick(20)"></td>
          <td id = "a21"@click="scheduleClick(21)"></td>
        </tr>
        <tr> <!-- Week 4-->
          <td id = "a22"@click="scheduleClick(22)"></td>
          <td id = "a23"@click="scheduleClick(23)"></td>
          <td id = "a24"@click="scheduleClick(24)"></td>
          <td id = "a25"@click="scheduleClick(25)"></td>
          <td id = "a26"@click="scheduleClick(26)"></td>
          <td id = "a27"@click="scheduleClick(27)"></td>
          <td id = "a28"@click="scheduleClick(28)"></td>
        </tr>
        <tr> <!-- Week 5-->
          <td id = "a29"@click="scheduleClick(29)"></td>
          <td id = "a30"@click="scheduleClick(30)"></td>
          <td id = "a31"@click="scheduleClick(31)"></td>
          <td id = "a32"@click="scheduleClick(32)"></td>
          <td id = "a33"@click="scheduleClick(33)"></td>
          <td id = "a34"@click="scheduleClick(34)"></td>
          <td id = "a35"@click="scheduleClick(35)"></td>
        </tr>
        <tr id = "extra"> <!-- for shifting, extra week-->
          <td id = "a36"@click="scheduleClick(36)"></td>
          <td id = "a37"@click="scheduleClick(37)"></td>
          <td id = "a38"@click="scheduleClick(38)"></td>
          <td id = "a39"@click="scheduleClick(39)"></td>
          <td id = "a40"@click="scheduleClick(4O)"></td>
          <td id = "a41"@click="scheduleClick(41)"></td>
          <td id = "a42"@click="scheduleClick(42)"></td>
        </tr>
      </table>
    </div>
  </body>
</html>
